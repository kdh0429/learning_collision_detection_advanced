l1 = 0.135;
d2 = 0.0062;
l2 = 0.411;
l3 = 0.368;
l4 = 0.121;

L1 = Link('revolute', 'modified', 'd', l1, 'a', 0,  'alpha', 0    , 'offset', 0,    'm', 4.935, 'I', [0.018, 0.011, 0.019,  0.000015200, -0.00100000, -0.00002290], 'Jm', 0.000184,  'G', 120);
L2 = Link('revolute', 'modified', 'd', d2, 'a', 0,  'alpha', -pi/2, 'offset', -pi/2,'m', 8.363, 'I', [0.292, 0.293, 0.021, -0.000000778, -0.00029700, -0.00015100], 'Jm', 0.000184,  'G', 120);
L3 = Link('revolute', 'modified', 'd', 0,  'a', l2, 'alpha', 0    , 'offset', pi/2, 'm', 3.583, 'I', [0.012, 0.007, 0.011, -0.000004160,  0.00200000, -0.00000127], 'Jm', 0.000137,  'G', 100);
L4 = Link('revolute', 'modified', 'd', l3, 'a', 0,  'alpha', pi/2 , 'offset', 0,    'm', 3.433, 'I', [0.070, 0.056, 0.019, -0.000013400, -0.02600000, -0.00001190], 'Jm', 0.000099,  'G', 80);
L5 = Link('revolute', 'modified', 'd', 0,  'a', 0,  'alpha', -pi/2, 'offset', 0,    'm', 2.598, 'I', [0.007, 0.004, 0.007, -0.000004930, -0.00006640, -0.00000557], 'Jm', 0.000099,  'G', 80);
L6 = Link('revolute', 'modified', 'd', l4, 'a', 0,  'alpha', pi/2 , 'offset', 0,    'm', 1.128, 'I', [0.001, 0.001, 0.001, -0.000002790, -0.00000667,  0.00000578], 'Jm', 0.0000989, 'G', 80);
    
CoM = zeros(3,6);
CoM(:,1) = [0.000068,   0.036439,  0.129291]';
CoM(:,2) = [0.000003,   0.16364,   0.340144]';
CoM(:,3) = [-0.000007,  0.050629,  0.555445]';
CoM(:,4) = [0.000009,   0.129491,  0.805498]';
CoM(:,5) = [-0.000015,  0.038321,  0.913528]';
CoM(:,6) = [-0.000172,  0.00641,   0.982722]';
    
PosO = [0.000, 0.000, l1;
        0.000, d2, l1;
        0.000, d2, l1+l2;
        0.000, d2, l1+l2+l3;
        0.000, d2, l1+l2+l3;
        0.000, d2, l1+l2+l3+l4]';

COM0 = CoM-PosO;
L1.r = [COM0(1,1), COM0(2,1), COM0(3,1)]; % [x1, y1, z1] = [xB, yB, zB]
L2.r = [COM0(3,2), COM0(1,2), COM0(2,2)]; % [x2, y2, z2] = [zB, xB, yB]
L3.r = [COM0(1,3), -COM0(3,3), COM0(2,3)]; % [x3, y3, z3] = [xB, -zB, yB]
L4.r = [COM0(1,4), COM0(2,4), COM0(3,4)]; % [x4, y4, z4] = [xB, yB, zB]
L5.r = [COM0(1,5), -COM0(3,5), COM0(2,5)]; % [x5, y5, z5] = [xB, -zB, yB]
L6.r = [COM0(1,6), COM0(2,6), COM0(3,6)]; % [x6, y6, z6] = [xB, yB, zB]

bot = SerialLink([L1 L2 L3 L4 L5 L6],'name', 'M0609')
bot.gravity = [0.0; 0.0; -9.80];

clear l1
clear d2
clear l2
clear l3
clear l4
clear L1
clear L2
clear L3
clear L4
clear L5
clear L6
clear CoM
clear PosO
clear COM0